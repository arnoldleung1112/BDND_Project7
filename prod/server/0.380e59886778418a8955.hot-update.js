exports.id=0,exports.modules={"./build/contracts/FlightSuretyData.json":!1,"./src/server/server.js":function(e,s,o){"use strict";o.r(s);var t=o("./build/contracts/FlightSuretyApp.json"),n=o("./src/server/config.json"),r=o("web3"),c=o.n(r),l=o("express"),a=o.n(l),i=n.localhost,u=new c.a(new c.a.providers.WebsocketProvider(i.url.replace("http","ws")));u.eth.defaultAccount=u.eth.accounts[0];var d=new u.eth.Contract(t.abi,i.appAddress),f=[],g=[0,10,20,30,40,50];u.eth.getAccounts(function(e,s){if(e.length<40)throw"Increase the number of accounts";d.methods.REGISTRATION_FEE().call({from:e[0]},function(s,o){if(s)console.log(s);else for(var t=o,n=function(o){d.methods.registerOracle().send({from:e[o],value:t,gas:3e6},function(t,n){t?console.log(t):d.methods.getMyIndexes().call({from:e[o]},function(t,n){if(s)console.log(t);else{var r={address:e[o],indexes:n};f.push(r),console.log("Oracle registered: "+JSON.stringify(r))}})})},r=10;r<40;r++)n(r)})}),d.events.OracleRequest({fromBlock:0},function(e,s){e?console.log(e):function(){for(var e=s.returnValues.index,o=s.returnValues.airline,t=s.returnValues.flight,n=s.returnValues.timestamp,r=g[Math.floor(Math.random()*g.length)],c=function(s){f[s].indexes.includes(e)&&(console.log("Oracle matches an react to request: "+JSON.stringify(f[s])),d.methods.submitOracleResponse(e,o,t,n,r).send({from:f[s].address,gas:2e5},function(e,o){e?console.log(e):console.log("Sended Oracle Response "+JSON.stringify(f[s])+" Status Code: "+r)}))},l=0;l<f.length;l++)c(l)}()});var h=a()();h.get("/api",function(e,s){s.send({message:"An API for use with your Dapp!"})}),s.default=h}};